# waterball-showdown 作業
## 撲克牌比大小遊戲 (Showdown)
需求文件分析和類別圖設計
1. 遊戲支援四位玩家
   玩家可以為真實玩家 (Human Player) 也能為電腦玩家 (AI Player)。
   玩家的實作：
   真實玩家：使用指令介面輸入 (Command Line Interface) 來做選擇。
   電腦玩家：隨機做選擇。
2. 玩家編號
   在以下需求中：我們用 P1, P2, P3, P4 來表示第一、二、三和第四順位的玩家。
3. 遊戲中的牌堆 (Deck)
   遊戲中有一副牌堆。
   牌堆中一開始存有 52 張牌 (Card)。
   每張牌都會擁有階級 (Rank) 及花色 (Suit)。
4. 遊戲流程
   遊戲開始時，依序執行以下步驟：
   取名：請 P1~P4 為自己取名 (Name himself)。
   洗牌：牌堆會進行洗牌 (Shuffle)。
   抽牌：由 P1 開始，P1~P4 輪流從牌堆中抽牌 (Draw Card)，直到所有人都擁有手牌 (Hand) 13 張牌為止。
   抽完牌後，在接下來的 13 回合中，每一回合依序執行以下步驟：
   P1~P4 輪流 (Takes a turn) 依序執行以下步驟：
   交換手牌特權：決定要不要使用「交換手牌 (Exchange Hands)」特權（參見需求 5）。
   出牌：出 (Show) 一張牌（此步驟彼此皆無法知曉彼此出的牌）。
   顯示牌：顯示 P1~P4 各出的牌的內容。
   比大小決勝負：將 P1~P4 出的牌進行比大小決勝負，將最勝者的分數 (Point) 加一。
   13 回合後，P1~P4 皆已出完全部的牌，遊戲結束。取得最多分數的玩家為勝者，將勝者的名稱顯示出來。
5. 牌與牌之間的比大小決勝規則
   先比較牌的階級，此時階級較大者勝，如果階級相同則比較花色，此時花色較大者勝。
   階級由小到大依序為：2, 3, 4, 5, 6, 7, 8, 9, 10, J, Q, K, A
   花色由小到大依序為：梅花 (Club)、菱形 (Diamond)、愛心 (Heart)、黑桃 (Spade)
6. 交換手牌特權
   每輪中，玩家在出牌前都能選擇要不要使用「交換手牌 (Exchange Hands)」特權（此特權每場遊戲各玩家皆只能使用一次），如果要的話，依序執行以下步驟：
   選擇玩家：玩家選擇要與哪位玩家（自己以外）交換手牌。
   交換手牌：選擇後，雙方的手牌交換。
   恢復手牌：三回合後，雙方的手牌會交換回來。
   如果有玩家在換牌之後，發現沒有牌出了，此時該玩家可以不必出牌，並在此輪無法參與比大小決勝。

## 作答引導

1. Showdown 撲克牌遊戲是我們要建模的領域，從第一個句子「這款遊戲能支援四位玩家」中：你發現有幾個重要的物件名詞？「遊戲和玩家」——為這些物件名詞各開一個類別吧！
「玩家可以為真實玩家 (Human Player) 也能為電腦玩家 (AI Player)」這句似乎又多出了兩個不同的名詞？將它們捕捉進類別圖中。
思考一下「玩家」和「真實玩家」、「電腦玩家」的關係為何？似乎有 Is-A 的關係存在？
需求 1.a 指出了真實玩家和電腦玩家的行為差異？先用便條紙註記一下。
需求 1.b 似乎只是在這份需求文件中給玩家們編號而已，並不是領域中的重要知識，不需要捕捉進類別圖。
2. 「遊戲中有一副牌堆 (Deck)。」這句話多出一個名詞「牌堆」，並且中間有一個動詞「有」。將名詞捕捉成新類別，並且將此動詞化為「關係」吧！
3. 「牌堆中一開始存有 52 張牌 (Card)。」這句話多出了一個名詞，並且也存在著一個動詞。「一開始存有 52」 聽起來像是某一條關聯上的物件參與者數量線索。
4. 「每張牌都會擁有階級 (Rank) 及花色 (Suit)。」這個句子中又多出了兩個名詞，階級和花色，他們跟牌的關係是什麼呢？
5. 需求 3 描述的是「遊戲的流程/行為」，類別圖無法捕捉「行為」，這要靠循序圖 (Sequential Diagram)。類別圖只能捕捉「結構」—— 有哪些類別？每個類別有哪些屬性和動作/操作？類別之間的關係是什麼？由於我們並沒有學循序圖，因此在閱讀需求 3 時，我們只要將結構面捕捉起來，遊戲行為面盡量記得就行！
6. 「請 P1~P4 為自己取名 (Name himself)。」「牌堆會進行洗牌 (Shuffle)。」這兩句話都添加了一個 「動作」。
7. 「P1~P4 輪流從牌堆中抽牌 (Draw Card)⋯⋯」，抽牌也是一個動作，不過句子的主詞是 P1~P4 (玩家），那抽牌會是玩家的動作嗎？此時要多加思考，由於中文的抽象性，很多時候只依靠動詞主詞判斷是不足的。因此你要思考的是「是哪個類別有能力讓人抽牌」？一定是攜帶著「牌」的類別才有能力讓人「抽牌」嘛。
8. 「⋯⋯直到所有人都擁有手牌 (Hand) 13 張牌為止。」這邊多出了一個新資訊，玩家擁有 13 張手牌——是否要捕捉此概念？
9. 需求 3.c.i「P1~P4 輪流 (Takes a turn) 依序執行以下」添加一個動作。
10. 需求 3.c.i.1「決定要不要使用「交換手牌 (Exchange Hands)」特權」添加一個動作。
11. 需求 3.c.i.2「出 (Show) 一張牌⋯⋯」添加一個動作。
12. 3.c.1.ii~iii. 主要是行為，但有一句話有結構面上的新資訊：「將最勝者的分數(Point)加一」——分數，聽起來是某類別的屬性？
13. 「13 回合後，P1~P4 皆已出完全部的牌，遊戲結束。取得最多分數的玩家為勝者，將勝者的名稱顯示出來。」也大多是行為面的描述，可以註記一下「取得最多分數的玩家為勝者」。
14. 需求 4：是比大小決勝負的描述，比大小的規則是行為，但是 4.a 和 4.b 補充了階級和花色的所有種類，可將他們各視為階級和花色常數空間的侷限。
15. 需求 5，也是本題最困難的地方：「此特權每場遊戲各玩家皆只能使用一次」將這種重要規則註記起來。
「玩家選擇要與哪位玩家（自己以外）交換手牌。」「選擇後，雙方的手牌交換。」「三回合後，雙方的手牌會交換回來。」聽起來玩家和玩家之間有可能會發展出「交換手牌」的關係。而此交換手牌的關係會持續三回合後解除。